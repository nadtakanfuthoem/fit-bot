<div class="recommendations">
  <h1>Get Personalized Recommendations</h1>

  <div class="form-card">
    <form (ngSubmit)="getRecommendations()">
      <div class="form-group">
        <label for="currentPlan">Current Training Plan</label>
        <textarea
          id="currentPlan"
          [(ngModel)]="formData.currentPlan"
          name="currentPlan"
          rows="2"
          placeholder="e.g., 4-day strength training split..."
          required>
        </textarea>
      </div>

      <div class="form-group">
        <label for="recentPerformance">Recent Performance</label>
        <textarea
          id="recentPerformance"
          [(ngModel)]="formData.recentPerformance"
          name="recentPerformance"
          rows="2"
          placeholder="e.g., Struggling with recovery, hitting plateaus, feeling strong..."
          required>
        </textarea>
      </div>

      <div class="form-group">
        <label for="energyLevels">Energy Levels</label>
        <input
          type="text"
          id="energyLevels"
          [(ngModel)]="formData.energyLevels"
          name="energyLevels"
          placeholder="e.g., Low, moderate, high throughout the day"
        />
      </div>

      <div class="form-group">
        <label for="sleepQuality">Sleep Quality & Duration</label>
        <input
          type="text"
          id="sleepQuality"
          [(ngModel)]="formData.sleepQuality"
          name="sleepQuality"
          placeholder="e.g., 6-7 hours, poor quality, waking up tired"
        />
      </div>

      <div class="form-group">
        <label for="nutrition">Current Nutrition Habits</label>
        <textarea
          id="nutrition"
          [(ngModel)]="formData.nutrition"
          name="nutrition"
          rows="2"
          placeholder="e.g., Balanced diet, high protein, struggling with consistency...">
        </textarea>
      </div>

      <button type="submit" class="get-btn" [disabled]="loading">
        <span *ngIf="!loading">Get Recommendations</span>
        <span *ngIf="loading">Analyzing...</span>
      </button>

      <div class="error-message" *ngIf="error">
        {{ error }}
      </div>
    </form>
  </div>

  <div class="recommendations-result" *ngIf="recommendations">
    <h2>Your Personalized Recommendations</h2>
    <div class="recommendations-content" [innerHTML]="formatRecommendations(recommendations)"></div>
  </div>

  <div class="loading-indicator" *ngIf="loading">
    <div class="spinner"></div>
    <p>FitBot is analyzing your situation...</p>
  </div>
</div>
