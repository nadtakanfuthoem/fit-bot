<div class="workout-plan">
  <h1>Generate Your Personalized Workout Plan</h1>

  <div class="form-card">
    <form (ngSubmit)="generatePlan()">
      <div class="form-group">
        <label for="fitnessLevel">Fitness Level</label>
        <select id="fitnessLevel" [(ngModel)]="formData.fitnessLevel" name="fitnessLevel" required>
          <option value="beginner">Beginner</option>
          <option value="intermediate">Intermediate</option>
          <option value="advanced">Advanced</option>
        </select>
      </div>

      <div class="form-group">
        <label for="goals">Fitness Goals</label>
        <textarea
          id="goals"
          [(ngModel)]="formData.goals"
          name="goals"
          rows="3"
          placeholder="e.g., Lose weight, build muscle, improve endurance..."
          required>
        </textarea>
      </div>

      <div class="form-group">
        <label for="equipment">Available Equipment</label>
        <input
          type="text"
          id="equipment"
          [(ngModel)]="formData.equipment"
          name="equipment"
          placeholder="e.g., dumbbells, resistance bands, or leave blank for bodyweight"
        />
      </div>

      <div class="form-group">
        <label for="daysPerWeek">Days Per Week</label>
        <input
          type="number"
          id="daysPerWeek"
          [(ngModel)]="formData.daysPerWeek"
          name="daysPerWeek"
          min="1"
          max="7"
          required
        />
      </div>

      <div class="form-group">
        <label for="medicalConditions">Medical Conditions / Limitations (Optional)</label>
        <textarea
          id="medicalConditions"
          [(ngModel)]="formData.medicalConditions"
          name="medicalConditions"
          rows="2"
          placeholder="Any injuries, conditions, or limitations to consider...">
        </textarea>
      </div>

      <button type="submit" class="generate-btn" [disabled]="loading">
        <span *ngIf="!loading">Generate My Plan</span>
        <span *ngIf="loading">Generating... Please wait</span>
      </button>

      <div class="error-message" *ngIf="error">
        {{ error }}
      </div>
    </form>
  </div>

  <div class="plan-result" *ngIf="generatedPlan">
    <h2>Your Personalized Workout Plan</h2>
    <div class="plan-content" [innerHTML]="formatPlan(generatedPlan)"></div>
  </div>

  <div class="loading-indicator" *ngIf="loading">
    <div class="spinner"></div>
    <p>FitBot is creating your personalized plan...</p>
  </div>
</div>
